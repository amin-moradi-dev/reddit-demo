<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="layout :: layout">
<body>
<div th:fragment="body">
    <h4 class="mb-3 text-center">Admin: Manage Users</h4>
    <table class="table table-hover">
        <thead class="table-dark">
        <tr><th>ID</th><th>Name</th><th>Email</th><th>Enabled</th><th>Roles</th><th>Actions</th></tr>
        </thead>
        <tbody>
        <tr th:each="u : ${users}">
            <td th:text="${u.id}"></td>
            <td th:text="${u.fullName}"></td>
            <td th:text="${u.email}"></td>
            <td><span th:text="${u.enabled ? 'Yes':'No'}"></span></td>
            <td th:text="${u.roles}"></td>
            <td>
                <form th:action="@{'/admin/users/' + ${u.id} + '/delete'}" method="post" class="d-inline">
                    <button class="btn btn-sm btn-danger">Delete</button>
                </form>
                <form th:action="@{'/admin/users/' + ${u.id} + '/toggleAdmin'}" method="post" class="d-inline">
                    <button class="btn btn-sm btn-secondary">Toggle Admin</button>
                </form>
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>
