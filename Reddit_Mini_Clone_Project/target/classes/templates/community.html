<html xmlns:th="http://www.thymeleaf.org" th:replace="layout :: body">
<body>
<a th:href="@{/}">‚Üê Back</a>
<h2 th:text="${community.name}">Community</h2>
<p th:text="${community.description}">Description</p>

<h3>Posts</h3>
<ul class="post-list" th:if="${!#lists.isEmpty(posts)}">
  <li th:each="p : ${posts}">
    <a th:href="@{|/post/${p.id}|}" th:text="${p.title}">Post title</a>
  </li>
</ul>
<p th:if="${#lists.isEmpty(posts)}">No posts in this community yet.</p>

<h3 th:if="${#httpServletRequest.remoteUser != null}">Create a post</h3>
<form th:if="${#httpServletRequest.remoteUser != null}" th:action="@{|/community/${communityId}/post|}" method="post">
  <input type="text" name="title" placeholder="Title" required>
  <textarea name="body" rows="4" placeholder="Write something..." required></textarea>
  <button type="submit">Post</button>
</form>
<p th:if="${#httpServletRequest.remoteUser == null}"><a th:href="@{/login}">Log in</a> to post.</p>

</body>
</html>
